flowchart TD
    %% Program Management Module
    
    Start([üìã Program Management]) --> ViewPrograms[üìä View All Programs]
    ViewPrograms --> ProgramActions{Select Action}
    
    %% Program CRUD Operations
    ProgramActions --> CreateProgram[‚ûï Create Program]
    ProgramActions --> EditProgram[‚úèÔ∏è Edit Program]
    ProgramActions --> DeleteProgram[üóëÔ∏è Delete Program]
    ProgramActions --> ViewDetails[üëÅÔ∏è View Details]
    ProgramActions --> AssignStaff[üë§ Assign Staff]
    
    %% Create Program Flow
    CreateProgram --> ProgramForm[üìù Program Creation Form]
    ProgramForm --> FillBasicInfo[Fill Basic Information]
    FillBasicInfo --> SetSchedule[üìÖ Set Schedule]
    SetSchedule --> DefineEligibility[üìã Define Eligibility]
    DefineEligibility --> AssignResources[üì¶ Assign Resources]
    AssignResources --> ValidateProgram{Validate Program?}
    ValidateProgram -->|Invalid| ProgramForm
    ValidateProgram -->|Valid| SaveProgram[üíæ Save Program]
    SaveProgram --> ProgramCreated[‚úÖ Program Created]
    
    %% Edit Program Flow
    EditProgram --> SelectProgram[üéØ Select Program]
    SelectProgram --> LoadProgramData[üì• Load Program Data]
    LoadProgramData --> EditForm[üìù Edit Program Form]
    EditForm --> UpdateSchedule[üìÖ Update Schedule]
    UpdateSchedule --> UpdateEligibility[üìã Update Eligibility]
    UpdateEligibility --> UpdateResources[üì¶ Update Resources]
    UpdateResources --> ValidateUpdates{Validate Updates?}
    ValidateUpdates -->|Invalid| EditForm
    ValidateUpdates -->|Valid| SaveUpdates[üíæ Save Updates]
    SaveUpdates --> ProgramUpdated[‚úÖ Program Updated]
    
    %% Delete Program Flow
    DeleteProgram --> SelectDeleteProgram[üéØ Select Program]
    SelectDeleteProgram --> CheckEnrollments{Has Enrollments?}
    CheckEnrollments -->|Yes| TransferPatients[üë• Transfer Patients]
    CheckEnrollments -->|No| ConfirmDelete{Confirm Delete?}
    TransferPatients --> ConfirmDelete
    ConfirmDelete -->|No| ViewPrograms
    ConfirmDelete -->|Yes| DeleteProgramData[üóëÔ∏è Delete Program]
    DeleteProgramData --> ProgramDeleted[‚úÖ Program Deleted]
    
    %% Return to dashboard
    ProgramCreated --> ViewPrograms
    ProgramUpdated --> ViewPrograms
    ProgramDeleted --> ViewPrograms
    ViewDetails --> ViewPrograms
    AssignStaff --> ViewPrograms
    
    %% Back to main dashboard
    ViewPrograms --> Dashboard[üè† Back to Dashboard]
    
    %% Styling
    classDef startEnd fill:#e1f5fe,stroke:#01579b,stroke-width:2px,color:#000
    classDef process fill:#f3e5f5,stroke:#4a148c,stroke-width:2px,color:#000
    classDef decision fill:#fff3e0,stroke:#e65100,stroke-width:2px,color:#000
    classDef success fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px,color:#000
    classDef form fill:#f1f8e9,stroke:#33691e,stroke-width:2px,color:#000
    classDef navigation fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px,color:#000
    
    class Start,Dashboard startEnd
    class ViewPrograms,CreateProgram,EditProgram,DeleteProgram,ViewDetails,AssignStaff,LoadProgramData,UpdateSchedule,UpdateEligibility,UpdateResources,SaveUpdates,DeleteProgramData process
    class ProgramActions,ValidateProgram,ValidateUpdates,CheckEnrollments,ConfirmDelete decision
    class ProgramCreated,ProgramUpdated,ProgramDeleted success
    class ProgramForm,FillBasicInfo,SetSchedule,DefineEligibility,AssignResources,EditForm form
