flowchart TD
    %% Chat Module Flow - Compact Version
    
    Start([💬 Chat Access]) --> AuthCheck{Authenticated?}
    AuthCheck -->|No| LoginRedirect[🔐 Login Required]
    AuthCheck -->|Yes| ChatDashboard[💬 Chat Dashboard]
    
    %% Main Chat Options
    ChatDashboard --> NewInquiry[📝 New Inquiry]
    ChatDashboard --> ViewInquiries[👁️ View Inquiries]
    ChatDashboard --> FAQ[❓ Browse FAQ]
    ChatDashboard --> MedicalForms[📋 Medical Forms]
    
    %% New Inquiry Flow
    NewInquiry --> InquiryForm[📝 Fill Inquiry Form]
    InquiryForm --> CategorySelect{Select Category}
    CategorySelect --> HealthGeneral[🏥 General Health]
    CategorySelect --> MedicalConsult[👩‍⚕️ Medical Consultation]
    CategorySelect --> AppointmentHelp[📅 Appointment Help]
    CategorySelect --> TechSupport[💻 Technical Support]
    
    HealthGeneral --> SubmitInquiry[📤 Submit Inquiry]
    MedicalConsult --> SubmitInquiry
    AppointmentHelp --> SubmitInquiry
    TechSupport --> SubmitInquiry
    
    SubmitInquiry --> InquiryProcessing[⚙️ Process & Notify Staff]
    InquiryProcessing --> InquirySuccess[✅ Inquiry Submitted]
    
    %% View Inquiries Flow
    ViewInquiries --> LoadInquiries[📋 Load My Inquiries]
    LoadInquiries --> InquiryStatus{Check Status}
    InquiryStatus --> Pending[⏳ Pending Response]
    InquiryStatus --> Responded[✅ Response Available]
    
    %% FAQ Flow
    FAQ --> FAQCategories[📚 FAQ Categories]
    FAQCategories --> FAQAnswers[💡 View Answers]
    
    %% Medical Forms Flow
    MedicalForms --> FormSelection[📋 Select Form Type]
    FormSelection --> FormAccess[📄 Access Digital Form]
    
    %% Return to Dashboard
    InquirySuccess --> ChatDashboard
    Pending --> ChatDashboard
    Responded --> ChatDashboard
    FAQAnswers --> ChatDashboard
    FormAccess --> ChatDashboard
    
    %% Styling
    classDef startEnd fill:#e1f5fe,stroke:#01579b,stroke-width:2px,color:#000
    classDef process fill:#f3e5f5,stroke:#4a148c,stroke-width:2px,color:#000
    classDef decision fill:#fff3e0,stroke:#e65100,stroke-width:2px,color:#000
    classDef success fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px,color:#000
    classDef pending fill:#ffebee,stroke:#c62828,stroke-width:2px,color:#000
    
    class Start,ChatDashboard startEnd
    class NewInquiry,ViewInquiries,FAQ,MedicalForms,InquiryForm,SubmitInquiry,LoadInquiries,FAQCategories,FormSelection process
    class AuthCheck,CategorySelect,InquiryStatus decision
    class InquirySuccess,Responded,FAQAnswers,FormAccess success
    class LoginRedirect,Pending pending
    class HealthGeneral,MedicalConsult,AppointmentHelp,TechSupport,InquiryProcessing process
