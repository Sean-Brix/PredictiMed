flowchart TD
    %% Virtual Consultations Dashboard - Main Entry Point
    
    Start([💻 Virtual Consultations]) --> AuthCheck{User Authenticated?}
    AuthCheck -->|No| LoginRequired[🔐 Login Required]
    AuthCheck -->|Yes| PermissionCheck{Consultation Permission?}
    
    PermissionCheck -->|No| AccessDenied[❌ Access Denied]
    PermissionCheck -->|Yes| ConsultationDashboard[💻 Virtual Consultations Dashboard]
    
    %% Main Consultation Categories
    ConsultationDashboard --> ScheduleConsultation[📅 Schedule Consultation]
    ConsultationDashboard --> JoinConsultation[🎥 Join Consultation]
    ConsultationDashboard --> ManageConsultations[⚙️ Manage Consultations]
    ConsultationDashboard --> ConsultationHistory[📜 Consultation History]
    ConsultationDashboard --> PatientRecords[📋 Patient Records]
    
    %% Quick Actions
    ScheduleConsultation --> QuickSchedule[⚡ Quick Schedule]
    JoinConsultation --> ActiveConsultations[🔴 Active Consultations]
    ManageConsultations --> MyConsultations[👨‍⚕️ My Consultations]
    ConsultationHistory --> RecentHistory[📅 Recent History]
    PatientRecords --> MyPatients[👥 My Patients]
    
    %% Return paths
    QuickSchedule --> ConsultationDashboard
    ActiveConsultations --> ConsultationDashboard
    MyConsultations --> ConsultationDashboard
    RecentHistory --> ConsultationDashboard
    MyPatients --> ConsultationDashboard
    AccessDenied --> Start
    
    %% Styling
    classDef startEnd fill:#e1f5fe,stroke:#01579b,stroke-width:2px,color:#000
    classDef process fill:#f3e5f5,stroke:#4a148c,stroke-width:2px,color:#000
    classDef decision fill:#fff3e0,stroke:#e65100,stroke-width:2px,color:#000
    classDef error fill:#ffebee,stroke:#c62828,stroke-width:2px,color:#000
    classDef quick fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px,color:#000
    
    class Start,ConsultationDashboard startEnd
    class ScheduleConsultation,JoinConsultation,ManageConsultations,ConsultationHistory,PatientRecords process
    class AuthCheck,PermissionCheck decision
    class LoginRequired,AccessDenied error
    class QuickSchedule,ActiveConsultations,MyConsultations,RecentHistory,MyPatients quick
