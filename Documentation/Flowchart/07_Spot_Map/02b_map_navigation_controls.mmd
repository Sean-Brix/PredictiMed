flowchart TD
    %% Map Navigation & Controls
    
    Start([üß≠ Map Navigation]) --> NavigationOptions{Navigation Options}
    
    %% Main navigation options
    NavigationOptions --> ZoomControls[üîç Zoom Controls]
    NavigationOptions --> PanControls[üëÜ Pan Controls]
    NavigationOptions --> ViewControls[üëÅÔ∏è View Controls]
    NavigationOptions --> LocationControls[üìç Location Controls]
    NavigationOptions --> MapMeasurement[üìè Map Measurement]
    
    %% Zoom Controls
    ZoomControls --> ZoomOptions{Zoom Options}
    ZoomOptions --> ZoomIn[‚ûï Zoom In]
    ZoomOptions --> ZoomOut[‚ûñ Zoom Out]
    ZoomOptions --> ZoomToLevel[üéØ Zoom to Level]
    ZoomOptions --> FitBounds[üîÑ Fit All Markers]
    ZoomOptions --> ZoomToArea[üìç Zoom to Area]
    
    ZoomIn --> UpdateMapZoom[üîÑ Update Map Zoom]
    ZoomOut --> UpdateMapZoom
    ZoomToLevel --> SelectZoomLevel[üéØ Select Zoom Level]
    SelectZoomLevel --> UpdateMapZoom
    FitBounds --> CalculateBounds[üìä Calculate Bounds]
    CalculateBounds --> UpdateMapZoom
    ZoomToArea --> SelectArea[üìç Select Area]
    SelectArea --> UpdateMapZoom
    UpdateMapZoom --> ZoomUpdated[‚úÖ Zoom Updated]
    
    %% Pan Controls
    PanControls --> PanOptions{Pan Options}
    PanOptions --> PanNorth[‚¨ÜÔ∏è Pan North]
    PanOptions --> PanSouth[‚¨áÔ∏è Pan South]
    PanOptions --> PanEast[‚û°Ô∏è Pan East]
    PanOptions --> PanWest[‚¨ÖÔ∏è Pan West]
    PanOptions --> PanToCoordinates[üìç Pan to Coordinates]
    PanOptions --> DragPan[üëÜ Drag Pan]
    
    PanNorth --> UpdateMapCenter[üîÑ Update Map Center]
    PanSouth --> UpdateMapCenter
    PanEast --> UpdateMapCenter
    PanWest --> UpdateMapCenter
    PanToCoordinates --> EnterCoordinates[üìç Enter Coordinates]
    EnterCoordinates --> ValidateCoordinates{Valid Coordinates?}
    ValidateCoordinates -->|No| EnterCoordinates
    ValidateCoordinates -->|Yes| UpdateMapCenter
    DragPan --> UpdateMapCenter
    UpdateMapCenter --> PanUpdated[‚úÖ Pan Updated]
    
    %% View Controls
    ViewControls --> ViewOptions{View Options}
    ViewOptions --> SatelliteView[üõ∞Ô∏è Satellite View]
    ViewOptions --> StreetView[üèòÔ∏è Street View]
    ViewOptions --> TerrainView[üóª Terrain View]
    ViewOptions --> HybridView[üîÑ Hybrid View]
    ViewOptions --> CustomMapStyle[üé® Custom Map Style]
    
    SatelliteView --> SwitchMapType[üîÑ Switch Map Type]
    StreetView --> SwitchMapType
    TerrainView --> SwitchMapType
    HybridView --> SwitchMapType
    CustomMapStyle --> StyleOptions[üé® Style Options]
    StyleOptions --> ApplyCustomStyle[üé® Apply Custom Style]
    ApplyCustomStyle --> SwitchMapType
    SwitchMapType --> ViewUpdated[‚úÖ View Updated]
    
    %% Location Controls
    LocationControls --> LocationOptions{Location Options}
    LocationOptions --> GetCurrentLocation[üìç Get Current Location]
    LocationOptions --> GoToAddress[üè† Go to Address]
    LocationOptions --> GoToCoordinates[üìç Go to Coordinates]
    LocationOptions --> SaveCurrentView[üíæ Save Current View]
    LocationOptions --> LoadSavedView[üì• Load Saved View]
    
    GetCurrentLocation --> RequestGeolocation[üìç Request Geolocation]
    RequestGeolocation --> GeolocationPermission{Permission Granted?}
    GeolocationPermission -->|No| LocationPermissionDenied[‚ùå Permission Denied]
    GeolocationPermission -->|Yes| LocationFound[üìç Location Found]
    LocationFound --> CenterOnLocation[üéØ Center on Location]
    CenterOnLocation --> LocationCentered[‚úÖ Location Centered]
    
    GoToAddress --> AddressInput[üè† Address Input]
    AddressInput --> GeocodeAddress[üîç Geocode Address]
    GeocodeAddress --> AddressFound{Address Found?}
    AddressFound -->|No| AddressNotFound[‚ùå Address Not Found]
    AddressFound -->|Yes| NavigateToAddress[üß≠ Navigate to Address]
    NavigateToAddress --> AddressNavigation[‚úÖ Navigation Complete]
    
    GoToCoordinates --> CoordinatesInput[üìç Coordinates Input]
    CoordinatesInput --> ValidateNavCoordinates{Valid Coordinates?}
    ValidateNavCoordinates -->|No| CoordinatesInput
    ValidateNavCoordinates -->|Yes| NavigateToCoordinates[üß≠ Navigate to Coordinates]
    NavigateToCoordinates --> CoordinatesNavigation[‚úÖ Navigation Complete]
    
    SaveCurrentView --> ViewName[üìù Enter View Name]
    ViewName --> SaveView[üíæ Save View]
    SaveView --> ViewSaved[‚úÖ View Saved]
    
    LoadSavedView --> SelectSavedView[üìã Select Saved View]
    SelectSavedView --> LoadView[üì• Load View]
    LoadView --> ViewLoaded[‚úÖ View Loaded]
    
    %% Map Measurement
    MapMeasurement --> MeasurementOptions{Measurement Options}
    MeasurementOptions --> MeasureDistance[üìè Measure Distance]
    MeasurementOptions --> MeasureArea[üìê Measure Area]
    MeasurementOptions --> MeasureRadius[‚≠ï Measure Radius]
    MeasurementOptions --> ClearMeasurements[üßπ Clear Measurements]
    
    MeasureDistance --> StartDistanceMeasurement[üìè Start Distance Measurement]
    StartDistanceMeasurement --> ClickPointsForDistance[üìç Click Points for Distance]
    ClickPointsForDistance --> DistanceMeasured[üìè Distance Measured]
    
    MeasureArea --> StartAreaMeasurement[üìê Start Area Measurement]
    StartAreaMeasurement --> DrawAreaForMeasurement[‚úèÔ∏è Draw Area]
    DrawAreaForMeasurement --> AreaMeasured[üìê Area Measured]
    
    MeasureRadius --> StartRadiusMeasurement[‚≠ï Start Radius Measurement]
    StartRadiusMeasurement --> SetCenterAndRadius[üìç Set Center and Radius]
    SetCenterAndRadius --> RadiusMeasured[‚≠ï Radius Measured]
    
    ClearMeasurements --> RemoveAllMeasurements[üßπ Remove All Measurements]
    RemoveAllMeasurements --> MeasurementsCleared[‚úÖ Measurements Cleared]
    
    %% Return paths
    ZoomUpdated --> ZoomControls
    PanUpdated --> PanControls
    ViewUpdated --> ViewControls
    LocationCentered --> LocationControls
    LocationPermissionDenied --> LocationControls
    AddressNavigation --> LocationControls
    AddressNotFound --> AddressInput
    CoordinatesNavigation --> LocationControls
    ViewSaved --> LocationControls
    ViewLoaded --> LocationControls
    DistanceMeasured --> MapMeasurement
    AreaMeasured --> MapMeasurement
    RadiusMeasured --> MapMeasurement
    MeasurementsCleared --> MapMeasurement
    
    ZoomControls --> NavigationOptions
    PanControls --> NavigationOptions
    ViewControls --> NavigationOptions
    LocationControls --> NavigationOptions
    MapMeasurement --> NavigationOptions
    
    %% Back to dashboard
    NavigationOptions --> Dashboard[üè† Back to Map Viewing Dashboard]
    
    %% Styling
    classDef startEnd fill:#e1f5fe,stroke:#01579b,stroke-width:2px,color:#000
    classDef process fill:#f3e5f5,stroke:#4a148c,stroke-width:2px,color:#000
    classDef decision fill:#fff3e0,stroke:#e65100,stroke-width:2px,color:#000
    classDef success fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px,color:#000
    classDef error fill:#ffebee,stroke:#c62828,stroke-width:2px,color:#000
    classDef zoom fill:#e3f2fd,stroke:#1976d2,stroke-width:2px,color:#000
    classDef pan fill:#f1f8e9,stroke:#33691e,stroke-width:2px,color:#000
    classDef view fill:#fce4ec,stroke:#c2185b,stroke-width:2px,color:#000
    classDef location fill:#fff8e1,stroke:#f57f17,stroke-width:2px,color:#000
    classDef measurement fill:#e8eaf6,stroke:#3f51b5,stroke-width:2px,color:#000
    
    class Start,Dashboard startEnd
    class ZoomControls,PanControls,ViewControls,LocationControls,MapMeasurement,UpdateMapZoom,UpdateMapCenter,SwitchMapType,RequestGeolocation,GeocodeAddress,AddressInput,CoordinatesInput,ViewName,SaveView,LoadView,StartDistanceMeasurement,StartAreaMeasurement,StartRadiusMeasurement,RemoveAllMeasurements process
    class NavigationOptions,ZoomOptions,PanOptions,ViewOptions,LocationOptions,ValidateCoordinates,GeolocationPermission,AddressFound,ValidateNavCoordinates,MeasurementOptions decision
    class ZoomUpdated,PanUpdated,ViewUpdated,LocationCentered,AddressNavigation,CoordinatesNavigation,ViewSaved,ViewLoaded,DistanceMeasured,AreaMeasured,RadiusMeasured,MeasurementsCleared success
    class LocationPermissionDenied,AddressNotFound error
    class ZoomIn,ZoomOut,ZoomToLevel,FitBounds,ZoomToArea,SelectZoomLevel,CalculateBounds zoom
    class PanNorth,PanSouth,PanEast,PanWest,PanToCoordinates,DragPan,EnterCoordinates pan
    class SatelliteView,StreetView,TerrainView,HybridView,CustomMapStyle,StyleOptions,ApplyCustomStyle view
    class GetCurrentLocation,GoToAddress,GoToCoordinates,SaveCurrentView,LoadSavedView,LocationFound,CenterOnLocation location
    class MeasureDistance,MeasureArea,MeasureRadius,ClearMeasurements,ClickPointsForDistance,DrawAreaForMeasurement,SetCenterAndRadius measurement
