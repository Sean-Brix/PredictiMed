flowchart TD
    %% Geofencing & Alerts Module
    
    Start([üöß Geofencing & Alerts]) --> GeofencingDashboard[üöß Geofencing Dashboard]
    GeofencingDashboard --> GeofencingActions{Select Action}
    
    %% Main geofencing actions
    GeofencingActions --> CreateGeofence[‚ûï Create Geofence]
    GeofencingActions --> ManageGeofences[‚öôÔ∏è Manage Geofences]
    GeofencingActions --> AlertSettings[üîî Alert Settings]
    GeofencingActions --> MonitorAlerts[üìä Monitor Alerts]
    GeofencingActions --> AlertHistory[üìú Alert History]
    
    %% Create Geofence Flow
    CreateGeofence --> GeofenceType{Geofence Type}
    GeofenceType --> CircularGeofence[‚≠ï Circular Geofence]
    GeofenceType --> PolygonGeofence[üìê Polygon Geofence]
    GeofenceType --> RectangleGeofence[‚¨ú Rectangle Geofence]
    
    CircularGeofence --> SetCenter[üìç Set Center Point]
    SetCenter --> SetRadius[üìè Set Radius]
    SetRadius --> GeofenceSettings[‚öôÔ∏è Geofence Settings]
    
    PolygonGeofence --> DrawPolygon[‚úèÔ∏è Draw Polygon]
    DrawPolygon --> GeofenceSettings
    
    RectangleGeofence --> DrawRectangle[‚¨ú Draw Rectangle]
    DrawRectangle --> GeofenceSettings
    
    GeofenceSettings --> ConfigureTriggers[üéØ Configure Triggers]
    ConfigureTriggers --> TriggerTypes{Trigger Type}
    TriggerTypes --> EntryTrigger[üì• Entry Trigger]
    TriggerTypes --> ExitTrigger[üì§ Exit Trigger]
    TriggerTypes --> DwellTrigger[‚è±Ô∏è Dwell Trigger]
    
    EntryTrigger --> SetAlertSettings[üîî Set Alert Settings]
    ExitTrigger --> SetAlertSettings
    DwellTrigger --> SetDwellTime[‚è∞ Set Dwell Time]
    SetDwellTime --> SetAlertSettings
    
    SetAlertSettings --> AlertTargets{Alert Targets}
    AlertTargets --> EmailAlert[üìß Email Alert]
    AlertTargets --> SMSAlert[üì± SMS Alert]
    AlertTargets --> PushNotification[üì≤ Push Notification]
    AlertTargets --> SystemAlert[üñ•Ô∏è System Alert]
    
    EmailAlert --> SaveGeofence[üíæ Save Geofence]
    SMSAlert --> SaveGeofence
    PushNotification --> SaveGeofence
    SystemAlert --> SaveGeofence
    SaveGeofence --> GeofenceCreated[‚úÖ Geofence Created]
    
    %% Manage Geofences Flow
    ManageGeofences --> GeofenceList[üìã Geofence List]
    GeofenceList --> GeofenceManagementActions{Management Action}
    GeofenceManagementActions --> EditGeofence[‚úèÔ∏è Edit Geofence]
    GeofenceManagementActions --> DeleteGeofence[üóëÔ∏è Delete Geofence]
    GeofenceManagementActions --> ToggleGeofence[üîÑ Toggle Active/Inactive]
    GeofenceManagementActions --> ViewGeofenceDetails[üëÅÔ∏è View Details]
    GeofenceManagementActions --> TestGeofence[üß™ Test Geofence]
    
    EditGeofence --> LoadGeofenceData[üì• Load Geofence Data]
    LoadGeofenceData --> UpdateGeofenceSettings[‚öôÔ∏è Update Settings]
    UpdateGeofenceSettings --> SaveGeofenceUpdate[üíæ Save Update]
    SaveGeofenceUpdate --> GeofenceUpdated[‚úÖ Geofence Updated]
    
    DeleteGeofence --> ConfirmGeofenceDelete{Confirm Delete?}
    ConfirmGeofenceDelete -->|No| GeofenceList
    ConfirmGeofenceDelete -->|Yes| RemoveGeofence[üóëÔ∏è Remove Geofence]
    RemoveGeofence --> GeofenceDeleted[‚úÖ Geofence Deleted]
    
    ToggleGeofence --> ToggleStatus[üîÑ Toggle Status]
    ToggleStatus --> StatusUpdated[‚úÖ Status Updated]
    
    TestGeofence --> SimulateEntry[üì• Simulate Entry]
    SimulateEntry --> TestAlert[üß™ Test Alert]
    TestAlert --> TestResults[üìä Test Results]
    
    %% Alert Settings Flow
    AlertSettings --> GlobalAlertSettings[üåê Global Alert Settings]
    GlobalAlertSettings --> AlertPreferences{Alert Preferences}
    AlertPreferences --> NotificationSettings[üîî Notification Settings]
    AlertPreferences --> EscalationRules[‚¨ÜÔ∏è Escalation Rules]
    AlertPreferences --> AlertFrequency[‚è±Ô∏è Alert Frequency]
    AlertPreferences --> AlertFormat[üìù Alert Format]
    
    NotificationSettings --> ConfigureChannels[üì¢ Configure Channels]
    EscalationRules --> SetEscalationLevels[‚¨ÜÔ∏è Set Escalation Levels]
    AlertFrequency --> SetFrequencyLimits[‚è±Ô∏è Set Frequency Limits]
    AlertFormat --> CustomizeFormat[üìù Customize Format]
    
    ConfigureChannels --> SaveAlertSettings[üíæ Save Settings]
    SetEscalationLevels --> SaveAlertSettings
    SetFrequencyLimits --> SaveAlertSettings
    CustomizeFormat --> SaveAlertSettings
    SaveAlertSettings --> AlertSettingsSaved[‚úÖ Settings Saved]
    
    %% Monitor Alerts Flow
    MonitorAlerts --> AlertMonitorDashboard[üìä Alert Monitor Dashboard]
    AlertMonitorDashboard --> ActiveAlerts[üî¥ Active Alerts]
    ActiveAlerts --> AlertActions{Alert Action}
    AlertActions --> AcknowledgeAlert[‚úÖ Acknowledge Alert]
    AlertActions --> ResolveAlert[‚úÖ Resolve Alert]
    AlertActions --> EscalateAlert[‚¨ÜÔ∏è Escalate Alert]
    AlertActions --> ViewAlertDetails[üëÅÔ∏è View Alert Details]
    
    AcknowledgeAlert --> AlertAcknowledged[‚úÖ Alert Acknowledged]
    ResolveAlert --> AlertResolved[‚úÖ Alert Resolved]
    EscalateAlert --> SelectEscalationLevel[‚¨ÜÔ∏è Select Escalation Level]
    SelectEscalationLevel --> AlertEscalated[‚¨ÜÔ∏è Alert Escalated]
    
    %% Alert History Flow
    AlertHistory --> AlertHistoryDashboard[üìú Alert History Dashboard]
    AlertHistoryDashboard --> HistoryFilters[üîΩ History Filters]
    HistoryFilters --> FilterByDate[üìÖ Filter by Date]
    HistoryFilters --> FilterByType[üìÇ Filter by Type]
    HistoryFilters --> FilterByStatus[üîò Filter by Status]
    HistoryFilters --> FilterByLocation[üìç Filter by Location]
    
    FilterByDate --> DisplayHistory[üìã Display History]
    FilterByType --> DisplayHistory
    FilterByStatus --> DisplayHistory
    FilterByLocation --> DisplayHistory
    
    DisplayHistory --> HistoryActions{History Action}
    HistoryActions --> ViewHistoryDetails[üëÅÔ∏è View Details]
    HistoryActions --> ExportHistory[üì§ Export History]
    HistoryActions --> AnalyzeHistory[üìä Analyze History]
    
    ExportHistory --> GenerateHistoryReport[üìÑ Generate Report]
    GenerateHistoryReport --> HistoryExported[‚úÖ History Exported]
    
    AnalyzeHistory --> HistoryAnalytics[üìä History Analytics]
    HistoryAnalytics --> TrendAnalysis[üìà Trend Analysis]
    TrendAnalysis --> AnalysisResults[üìä Analysis Results]
    
    %% Return paths
    GeofenceCreated --> GeofencingDashboard
    GeofenceUpdated --> GeofenceList
    GeofenceDeleted --> GeofenceList
    StatusUpdated --> GeofenceList
    TestResults --> GeofenceList
    ViewGeofenceDetails --> GeofenceList
    AlertSettingsSaved --> GeofencingDashboard
    AlertAcknowledged --> ActiveAlerts
    AlertResolved --> ActiveAlerts
    AlertEscalated --> ActiveAlerts
    ViewAlertDetails --> ActiveAlerts
    ViewHistoryDetails --> DisplayHistory
    HistoryExported --> DisplayHistory
    AnalysisResults --> DisplayHistory
    
    %% Back to main dashboard
    GeofencingDashboard --> Dashboard[üè† Back to Dashboard]
    
    %% Styling
    classDef startEnd fill:#e1f5fe,stroke:#01579b,stroke-width:2px,color:#000
    classDef process fill:#f3e5f5,stroke:#4a148c,stroke-width:2px,color:#000
    classDef decision fill:#fff3e0,stroke:#e65100,stroke-width:2px,color:#000
    classDef success fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px,color:#000
    classDef alert fill:#fff8e1,stroke:#f57f17,stroke-width:2px,color:#000
    classDef settings fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px,color:#000
    classDef monitor fill:#e1f5fe,stroke:#0277bd,stroke-width:2px,color:#000
    
    class Start,Dashboard startEnd
    class GeofencingDashboard,CreateGeofence,ManageGeofences,AlertSettings,MonitorAlerts,AlertHistory,SetCenter,SetRadius,DrawPolygon,DrawRectangle,LoadGeofenceData,UpdateGeofenceSettings,RemoveGeofence,ToggleStatus,SimulateEntry,TestAlert,GlobalAlertSettings,ConfigureChannels,SetEscalationLevels,SetFrequencyLimits,CustomizeFormat,AlertMonitorDashboard,ActiveAlerts,AlertHistoryDashboard,HistoryFilters,DisplayHistory,GenerateHistoryReport,HistoryAnalytics,TrendAnalysis process
    class GeofencingActions,GeofenceType,TriggerTypes,AlertTargets,GeofenceManagementActions,ConfirmGeofenceDelete,AlertPreferences,AlertActions,HistoryActions decision
    class GeofenceCreated,GeofenceUpdated,GeofenceDeleted,StatusUpdated,AlertSettingsSaved,AlertAcknowledged,AlertResolved,AlertEscalated,HistoryExported success
    class EntryTrigger,ExitTrigger,DwellTrigger,EmailAlert,SMSAlert,PushNotification,SystemAlert alert
    class GeofenceSettings,ConfigureTriggers,SetAlertSettings,NotificationSettings,EscalationRules,AlertFrequency,AlertFormat settings
    class AcknowledgeAlert,ResolveAlert,EscalateAlert,ViewAlertDetails,TestResults,AnalysisResults monitor
