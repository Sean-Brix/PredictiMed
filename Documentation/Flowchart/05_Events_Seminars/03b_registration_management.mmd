flowchart TD
    %% Registration Management - Settings & Configuration
    
    Start([üìù Registration Management]) --> ManagementOptions{Management Options}
    
    %% Main management options
    ManagementOptions --> RegistrationSettings[‚öôÔ∏è Registration Settings]
    ManagementOptions --> CapacityManagement[üë• Capacity Management]
    ManagementOptions --> RequirementsManagement[üìã Requirements Management]
    ManagementOptions --> WaitingListManagement[‚è≥ Waiting List Management]
    
    %% Registration Settings
    RegistrationSettings --> SettingsOptions{Settings Options}
    SettingsOptions --> EnableRegistration[‚úÖ Enable Registration]
    SettingsOptions --> DisableRegistration[‚ùå Disable Registration]
    SettingsOptions --> RegistrationDates[üìÖ Registration Dates]
    SettingsOptions --> RegistrationRules[üìã Registration Rules]
    
    EnableRegistration --> RegistrationEnabled[‚úÖ Registration Enabled]
    DisableRegistration --> RegistrationDisabled[‚ùå Registration Disabled]
    
    RegistrationDates --> SetOpenDate[üìÖ Set Opening Date]
    SetOpenDate --> SetCloseDate[üìÖ Set Closing Date]
    SetCloseDate --> ValidateDates{Valid Dates?}
    ValidateDates -->|No| RegistrationDates
    ValidateDates -->|Yes| DatesUpdated[‚úÖ Dates Updated]
    
    RegistrationRules --> RuleTypes{Rule Types}
    RuleTypes --> AgeRestrictions[üë∂ Age Restrictions]
    RuleTypes --> GeographicLimits[üåç Geographic Limits]
    RuleTypes --> MembershipRequirements[üë§ Membership Requirements]
    RuleTypes --> PrerequisiteSkills[üéì Prerequisite Skills]
    
    %% Capacity Management
    CapacityManagement --> CapacityOptions{Capacity Options}
    CapacityOptions --> SetMaxCapacity[üî¢ Set Maximum Capacity]
    CapacityOptions --> SetMinCapacity[üî¢ Set Minimum Capacity]
    CapacityOptions --> CapacityAlerts[üîî Capacity Alerts]
    CapacityOptions --> OverbookingSettings[üìà Overbooking Settings]
    
    SetMaxCapacity --> ValidateMaxCapacity{Valid Capacity?}
    ValidateMaxCapacity -->|No| SetMaxCapacity
    ValidateMaxCapacity -->|Yes| MaxCapacitySet[‚úÖ Max Capacity Set]
    
    SetMinCapacity --> ValidateMinCapacity{Valid Capacity?}
    ValidateMinCapacity -->|No| SetMinCapacity
    ValidateMinCapacity -->|Yes| MinCapacitySet[‚úÖ Min Capacity Set]
    
    CapacityAlerts --> AlertThresholds[üîî Set Alert Thresholds]
    AlertThresholds --> NotificationRecipients[üë• Notification Recipients]
    NotificationRecipients --> AlertsConfigured[‚úÖ Alerts Configured]
    
    OverbookingSettings --> OverbookingPercentage[üìä Set Overbooking %]
    OverbookingPercentage --> OverbookingRules[üìã Overbooking Rules]
    OverbookingRules --> OverbookingConfigured[‚úÖ Overbooking Configured]
    
    %% Requirements Management
    RequirementsManagement --> RequirementTypes{Requirement Types}
    RequirementTypes --> PersonalInfo[üë§ Personal Information]
    RequirementTypes --> DocumentUpload[üìÑ Document Upload]
    RequirementTypes --> HealthInfo[üè• Health Information]
    RequirementTypes --> EmergencyContacts[üìû Emergency Contacts]
    RequirementTypes --> SpecialNeeds[‚ôø Special Needs]
    
    PersonalInfo --> MandatoryPersonalFields[üìù Set Mandatory Personal Fields]
    DocumentUpload --> DocumentTypes[üìÑ Required Document Types]
    HealthInfo --> HealthQuestions[üè• Health Questionnaire]
    EmergencyContacts --> ContactRequirements[üìû Contact Requirements]
    SpecialNeeds --> AccessibilityOptions[‚ôø Accessibility Options]
    
    MandatoryPersonalFields --> RequirementsUpdated[‚úÖ Requirements Updated]
    DocumentTypes --> RequirementsUpdated
    HealthQuestions --> RequirementsUpdated
    ContactRequirements --> RequirementsUpdated
    AccessibilityOptions --> RequirementsUpdated
    
    %% Waiting List Management
    WaitingListManagement --> WaitingListOptions{Waiting List Options}
    WaitingListOptions --> EnableWaitingList[‚úÖ Enable Waiting List]
    WaitingListOptions --> DisableWaitingList[‚ùå Disable Waiting List]
    WaitingListOptions --> WaitingListCapacity[üî¢ Set Waiting List Capacity]
    WaitingListOptions --> AutoPromotionRules[üîÑ Auto-Promotion Rules]
    
    EnableWaitingList --> WaitingListEnabled[‚úÖ Waiting List Enabled]
    DisableWaitingList --> WaitingListDisabled[‚ùå Waiting List Disabled]
    
    WaitingListCapacity --> SetWaitingListLimit[üî¢ Set Waiting List Limit]
    SetWaitingListLimit --> ValidateWaitingListLimit{Valid Limit?}
    ValidateWaitingListLimit -->|No| SetWaitingListLimit
    ValidateWaitingListLimit -->|Yes| WaitingListLimitSet[‚úÖ Waiting List Limit Set]
    
    AutoPromotionRules --> PromotionTriggers[üéØ Promotion Triggers]
    PromotionTriggers --> PromotionNotifications[üìß Promotion Notifications]
    PromotionNotifications --> AutoPromotionConfigured[‚úÖ Auto-Promotion Configured]
    
    %% Return paths
    RegistrationEnabled --> ManagementOptions
    RegistrationDisabled --> ManagementOptions
    DatesUpdated --> ManagementOptions
    AgeRestrictions --> ManagementOptions
    GeographicLimits --> ManagementOptions
    MembershipRequirements --> ManagementOptions
    PrerequisiteSkills --> ManagementOptions
    MaxCapacitySet --> ManagementOptions
    MinCapacitySet --> ManagementOptions
    AlertsConfigured --> ManagementOptions
    OverbookingConfigured --> ManagementOptions
    RequirementsUpdated --> ManagementOptions
    WaitingListEnabled --> ManagementOptions
    WaitingListDisabled --> ManagementOptions
    WaitingListLimitSet --> ManagementOptions
    AutoPromotionConfigured --> ManagementOptions
    
    %% Back to dashboard
    ManagementOptions --> Dashboard[üè† Back to Registration Dashboard]
    
    %% Styling
    classDef startEnd fill:#e1f5fe,stroke:#01579b,stroke-width:2px,color:#000
    classDef process fill:#f3e5f5,stroke:#4a148c,stroke-width:2px,color:#000
    classDef decision fill:#fff3e0,stroke:#e65100,stroke-width:2px,color:#000
    classDef success fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px,color:#000
    classDef error fill:#ffebee,stroke:#c62828,stroke-width:2px,color:#000
    classDef settings fill:#f1f8e9,stroke:#33691e,stroke-width:2px,color:#000
    classDef capacity fill:#e3f2fd,stroke:#1976d2,stroke-width:2px,color:#000
    
    class Start,Dashboard startEnd
    class RegistrationSettings,CapacityManagement,RequirementsManagement,WaitingListManagement,EnableRegistration,DisableRegistration,SetOpenDate,SetCloseDate,SetMaxCapacity,SetMinCapacity,AlertThresholds,NotificationRecipients,OverbookingPercentage process
    class ManagementOptions,SettingsOptions,ValidateDates,RuleTypes,CapacityOptions,ValidateMaxCapacity,ValidateMinCapacity,RequirementTypes,WaitingListOptions,ValidateWaitingListLimit decision
    class RegistrationEnabled,DatesUpdated,MaxCapacitySet,MinCapacitySet,AlertsConfigured,OverbookingConfigured,RequirementsUpdated,WaitingListEnabled,WaitingListLimitSet,AutoPromotionConfigured success
    class RegistrationDisabled,WaitingListDisabled error
    class RegistrationDates,RegistrationRules,MandatoryPersonalFields,DocumentTypes,HealthQuestions,ContactRequirements,AccessibilityOptions settings
    class CapacityAlerts,OverbookingSettings,PromotionTriggers,PromotionNotifications capacity
