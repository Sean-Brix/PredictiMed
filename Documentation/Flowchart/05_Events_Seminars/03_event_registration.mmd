flowchart TD
    %% Event Registration Module
    
    Start([üë• Event Registration]) --> RegistrationDashboard[üìä Registration Dashboard]
    RegistrationDashboard --> RegistrationActions{Select Action}
    
    %% Main registration actions
    RegistrationActions --> ManageRegistrations[üìù Manage Registrations]
    RegistrationActions --> ViewRegistrations[üëÅÔ∏è View Registrations]
    RegistrationActions --> ProcessApplications[‚úÖ Process Applications]
    RegistrationActions --> SendInvitations[üìß Send Invitations]
    RegistrationActions --> RegistrationReports[üìä Registration Reports]
    
    %% Manage Registrations Flow
    ManageRegistrations --> RegistrationOptions{Registration Options}
    RegistrationOptions --> EnableRegistration[‚úÖ Enable Registration]
    RegistrationOptions --> DisableRegistration[‚ùå Disable Registration]
    RegistrationOptions --> ModifyCapacity[üë• Modify Capacity]
    RegistrationOptions --> SetWaitingList[‚è≥ Set Waiting List]
    RegistrationOptions --> UpdateRequirements[üìã Update Requirements]
    
    EnableRegistration --> RegistrationEnabled[‚úÖ Registration Enabled]
    DisableRegistration --> RegistrationDisabled[‚ùå Registration Disabled]
    ModifyCapacity --> CapacityForm[üë• Capacity Modification Form]
    CapacityForm --> NewCapacityLimit[üî¢ Set New Capacity]
    NewCapacityLimit --> CapacityUpdated[‚úÖ Capacity Updated]
    
    SetWaitingList --> WaitingListSettings[‚è≥ Waiting List Settings]
    WaitingListSettings --> WaitingListLimit[üî¢ Set Waiting List Limit]
    WaitingListLimit --> AutoPromotionSettings[üîÑ Auto-Promotion Settings]
    AutoPromotionSettings --> WaitingListConfigured[‚úÖ Waiting List Configured]
    
    UpdateRequirements --> RequirementsForm[üìã Requirements Form]
    RequirementsForm --> MandatoryFields[üìù Set Mandatory Fields]
    MandatoryFields --> DocumentRequirements[üìÑ Document Requirements]
    DocumentRequirements --> HealthRequirements[üè• Health Requirements]
    HealthRequirements --> RequirementsUpdated[‚úÖ Requirements Updated]
    
    %% View Registrations Flow
    ViewRegistrations --> RegistrationsList[üìã Registrations List]
    RegistrationsList --> RegistrationsListActions{List Actions}
    RegistrationsListActions --> FilterRegistrations[üîΩ Filter Registrations]
    RegistrationsListActions --> SortRegistrations[‚ÜïÔ∏è Sort Registrations]
    RegistrationsListActions --> SearchRegistrations[üîç Search Registrations]
    RegistrationsListActions --> ViewRegistrationDetails[üëÅÔ∏è View Details]
    RegistrationsListActions --> BulkRegistrationActions[üì¶ Bulk Actions]
    
    FilterRegistrations --> FilterOptions[üîΩ Filter Options]
    FilterOptions --> FilterByStatus[üîò Filter by Status]
    FilterOptions --> FilterByDate[üìÖ Filter by Date]
    FilterOptions --> FilterByType[üìÇ Filter by Type]
    FilterByStatus --> ApplyRegistrationFilter[‚úÖ Apply Filter]
    FilterByDate --> ApplyRegistrationFilter
    FilterByType --> ApplyRegistrationFilter
    ApplyRegistrationFilter --> FilteredRegistrations[üìã Filtered Results]
    
    SortRegistrations --> SortOptions[‚ÜïÔ∏è Sort Options]
    SortOptions --> SortByName[üî§ Sort by Name]
    SortOptions --> SortByDate[üìÖ Sort by Date]
    SortOptions --> SortByStatus[üîò Sort by Status]
    SortByName --> SortedRegistrations[üìã Sorted Results]
    SortByDate --> SortedRegistrations
    SortByStatus --> SortedRegistrations
    
    ViewRegistrationDetails --> RegistrationDetailsView[üìÑ Registration Details]
    RegistrationDetailsView --> DetailsActions{Details Actions}
    DetailsActions --> EditRegistration[‚úèÔ∏è Edit Registration]
    DetailsActions --> CancelRegistration[‚ùå Cancel Registration]
    DetailsActions --> TransferRegistration[üîÑ Transfer Registration]
    DetailsActions --> AddNotes[üìù Add Notes]
    
    EditRegistration --> EditRegistrationForm[üìù Edit Form]
    EditRegistrationForm --> UpdateRegistrationInfo[üìù Update Information]
    UpdateRegistrationInfo --> SaveRegistrationUpdate[üíæ Save Update]
    SaveRegistrationUpdate --> RegistrationUpdated[‚úÖ Registration Updated]
    
    CancelRegistration --> CancellationReason[üìù Cancellation Reason]
    CancellationReason --> ConfirmCancellation{Confirm Cancellation?}
    ConfirmCancellation -->|No| RegistrationDetailsView
    ConfirmCancellation -->|Yes| ProcessCancellation[‚ùå Process Cancellation]
    ProcessCancellation --> NotifyCancellation[üìß Notify Cancellation]
    NotifyCancellation --> RegistrationCancelled[‚ùå Registration Cancelled]
    
    TransferRegistration --> SelectTargetEvent[üéØ Select Target Event]
    SelectTargetEvent --> ValidateTransfer{Valid Transfer?}
    ValidateTransfer -->|No| SelectTargetEvent
    ValidateTransfer -->|Yes| ProcessRegistrationTransfer[üîÑ Process Transfer]
    ProcessRegistrationTransfer --> NotifyTransfer[üìß Notify Transfer]
    NotifyTransfer --> RegistrationTransferred[üîÑ Registration Transferred]
    
    BulkRegistrationActions --> BulkOptions{Bulk Options}
    BulkOptions --> BulkApprove[‚úÖ Bulk Approve]
    BulkOptions --> BulkReject[‚ùå Bulk Reject]
    BulkOptions --> BulkCancel[‚ùå Bulk Cancel]
    BulkOptions --> BulkExport[üì§ Bulk Export]
    BulkOptions --> BulkEmailSend[üìß Bulk Email]
    
    BulkApprove --> SelectRegistrationsApprove[‚òëÔ∏è Select Registrations]
    SelectRegistrationsApprove --> ProcessBulkApproval[‚úÖ Process Bulk Approval]
    ProcessBulkApproval --> BulkApprovalCompleted[‚úÖ Bulk Approval Completed]
    
    BulkReject --> SelectRegistrationsReject[‚òëÔ∏è Select Registrations]
    SelectRegistrationsReject --> RejectionReason[üìù Rejection Reason]
    RejectionReason --> ProcessBulkRejection[‚ùå Process Bulk Rejection]
    ProcessBulkRejection --> BulkRejectionCompleted[‚ùå Bulk Rejection Completed]
    
    %% Process Applications Flow
    ProcessApplications --> PendingApplications[‚è≥ Pending Applications]
    PendingApplications --> ApplicationActions{Application Actions}
    ApplicationActions --> ReviewApplication[üëÅÔ∏è Review Application]
    ApplicationActions --> ApproveApplication[‚úÖ Approve Application]
    ApplicationActions --> RejectApplication[‚ùå Reject Application]
    ApplicationActions --> RequestMoreInfo[üìù Request More Info]
    
    ReviewApplication --> ApplicationReview[üìã Application Review]
    ApplicationReview --> ReviewDocuments[üìÑ Review Documents]
    ReviewDocuments --> VerifyRequirements[‚úÖ Verify Requirements]
    VerifyRequirements --> ReviewDecision{Review Decision}
    ReviewDecision --> ApproveApplication
    ReviewDecision --> RejectApplication
    ReviewDecision --> RequestMoreInfo
    
    ApproveApplication --> ApplicationApproval[‚úÖ Process Approval]
    ApplicationApproval --> SendApprovalNotification[üìß Send Approval Notification]
    SendApprovalNotification --> ApplicationApproved[‚úÖ Application Approved]
    
    RejectApplication --> ApplicationRejection[‚ùå Process Rejection]
    ApplicationRejection --> SendRejectionNotification[üìß Send Rejection Notification]
    SendRejectionNotification --> ApplicationRejected[‚ùå Application Rejected]
    
    RequestMoreInfo --> InfoRequest[üìù Information Request]
    InfoRequest --> SendInfoRequest[üìß Send Info Request]
    SendInfoRequest --> InfoRequested[üìù Information Requested]
    
    %% Send Invitations Flow
    SendInvitations --> InvitationOptions{Invitation Options}
    InvitationOptions --> CreateInviteList[üìù Create Invite List]
    InvitationOptions --> ImportInviteList[üì• Import Invite List]
    InvitationOptions --> SelectExistingList[üìã Select Existing List]
    
    CreateInviteList --> InviteListForm[üìù Invite List Form]
    InviteListForm --> AddInvitees[üë• Add Invitees]
    AddInvitees --> ValidateInviteList{Valid List?}
    ValidateInviteList -->|No| InviteListForm
    ValidateInviteList -->|Yes| CustomizeInvitation[üìß Customize Invitation]
    
    ImportInviteList --> UploadInviteFile[üìÅ Upload Invite File]
    UploadInviteFile --> ValidateImportedList[‚úÖ Validate Imported List]
    ValidateImportedList --> CustomizeInvitation
    
    SelectExistingList --> ChooseExistingList[üìã Choose List]
    ChooseExistingList --> CustomizeInvitation
    
    CustomizeInvitation --> InvitationTemplate[üìß Invitation Template]
    InvitationTemplate --> PersonalizeInvitation[üìù Personalize Invitation]
    PersonalizeInvitation --> PreviewInvitation[üëÅÔ∏è Preview Invitation]
    PreviewInvitation --> SendInvitationsConfirm{Send Invitations?}
    SendInvitationsConfirm -->|No| CustomizeInvitation
    SendInvitationsConfirm -->|Yes| ProcessInvitations[üìß Process Invitations]
    ProcessInvitations --> InvitationsSent[üìß Invitations Sent]
    
    %% Return paths
    RegistrationEnabled --> RegistrationDashboard
    RegistrationDisabled --> RegistrationDashboard
    CapacityUpdated --> RegistrationDashboard
    WaitingListConfigured --> RegistrationDashboard
    RequirementsUpdated --> RegistrationDashboard
    FilteredRegistrations --> RegistrationsList
    SortedRegistrations --> RegistrationsList
    RegistrationUpdated --> RegistrationDetailsView
    RegistrationCancelled --> RegistrationsList
    RegistrationTransferred --> RegistrationsList
    AddNotes --> RegistrationDetailsView
    BulkApprovalCompleted --> RegistrationsList
    BulkRejectionCompleted --> RegistrationsList
    BulkCancel --> RegistrationsList
    BulkExport --> RegistrationsList
    BulkEmailSend --> RegistrationsList
    ApplicationApproved --> PendingApplications
    ApplicationRejected --> PendingApplications
    InfoRequested --> PendingApplications
    InvitationsSent --> RegistrationDashboard
    
    %% Back to main dashboard
    RegistrationDashboard --> Dashboard[üè† Back to Dashboard]
    
    %% Styling
    classDef startEnd fill:#e1f5fe,stroke:#01579b,stroke-width:2px,color:#000
    classDef process fill:#f3e5f5,stroke:#4a148c,stroke-width:2px,color:#000
    classDef decision fill:#fff3e0,stroke:#e65100,stroke-width:2px,color:#000
    classDef success fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px,color:#000
    classDef error fill:#ffebee,stroke:#c62828,stroke-width:2px,color:#000
    classDef form fill:#f1f8e9,stroke:#33691e,stroke-width:2px,color:#000
    classDef approval fill:#e3f2fd,stroke:#1976d2,stroke-width:2px,color:#000
    classDef invitation fill:#fce4ec,stroke:#c2185b,stroke-width:2px,color:#000
    
    class Start,Dashboard startEnd
    class RegistrationDashboard,ManageRegistrations,ViewRegistrations,ProcessApplications,SendInvitations,RegistrationReports,EnableRegistration,DisableRegistration,ModifyCapacity,SetWaitingList,UpdateRequirements,RegistrationsList,ViewRegistrationDetails,EditRegistration,CancelRegistration,TransferRegistration,PendingApplications,ReviewApplication,ApplicationReview,ApplicationApproval,ApplicationRejection,InfoRequest,CreateInviteList,ImportInviteList,SelectExistingList,InviteListForm,UploadInviteFile,ChooseExistingList,CustomizeInvitation,ProcessInvitations process
    class RegistrationActions,RegistrationOptions,RegistrationsListActions,DetailsActions,ConfirmCancellation,ValidateTransfer,BulkOptions,ApplicationActions,ReviewDecision,InvitationOptions,ValidateInviteList,SendInvitationsConfirm decision
    class RegistrationEnabled,CapacityUpdated,WaitingListConfigured,RequirementsUpdated,RegistrationUpdated,RegistrationTransferred,BulkApprovalCompleted,ApplicationApproved,InvitationsSent success
    class RegistrationDisabled,RegistrationCancelled,BulkRejectionCompleted,ApplicationRejected error
    class CapacityForm,RequirementsForm,EditRegistrationForm,CancellationReason,RejectionReason form
    class ApproveApplication,ProcessBulkApproval,SendApprovalNotification,ApplicationApproved approval
    class InvitationTemplate,PersonalizeInvitation,PreviewInvitation invitation
