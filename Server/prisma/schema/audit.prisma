//? ===================================== AUDIT LOGS SCHEMA ===================================== ?//

model AuditLog {
    id         String       @id @default(cuid())
    adminId    String // Admin who performed the action
    action     audit_action
    targetType String? // What was affected (Account, Seminar, Inventory, etc.)
    targetId   String? // ID of the affected entity
    targetName String? // Name/title of the affected entity for display
    details    String?      @db.Text // Additional details about the action
    metadata   Json? // Structured data about the action (old/new values, etc.)
    ipAddress  String?
    userAgent  String?
    createdAt  DateTime     @default(now())

    // Relations
    admin Account @relation("AdminAuditLogs", fields: [adminId], references: [id])

    @@map("audit_logs")
}

//? ======================================== AUDIT ENUMS ======================================== ?//

enum audit_action {
    // Account Management Actions
    ACCOUNT_CREATE
    ACCOUNT_UPDATE
    ACCOUNT_DELETE
    ACCOUNT_ROLE_CHANGE
    ACCOUNT_STATUS_CHANGE

    // Authentication Actions
    LOGIN
    LOGOUT
    LOGIN_FAILED

    // Inventory Management Actions
    INVENTORY_CREATE
    INVENTORY_UPDATE
    INVENTORY_DELETE
    INVENTORY_STATUS_CHANGE

    // Distribution Management Actions
    DISTRIBUTION_CREATE
    DISTRIBUTION_UPDATE
    DISTRIBUTION_DELETE
    DISTRIBUTION_REQUEST_APPROVE
    DISTRIBUTION_REQUEST_REJECT
    DISTRIBUTION_REQUEST_NO_PICKUP

    // EIC Management Actions
    EIC_CREATE
    EIC_UPDATE
    EIC_DELETE
    EIC_STATUS_CHANGE
    EIC_REQUEST_APPROVE
    EIC_REQUEST_REJECT
    EIC_REQUEST_NO_PICKUP

    // Seminar Management Actions
    SEMINAR_CREATE
    SEMINAR_UPDATE
    SEMINAR_DELETE
    SEMINAR_STATUS_CHANGE
    SEMINAR_PARTICIPANT_UPDATE

    // Content Management Actions
    CONTENT_CREATE
    CONTENT_UPDATE
    CONTENT_DELETE

    // System Actions
    SYSTEM_BACKUP
    SYSTEM_RESTORE
    SYSTEM_MAINTENANCE

    // Profile Actions
    PROFILE_UPDATE
    PROFILE_PICTURE_UPDATE

    // Settings Actions
    SETTINGS_UPDATE
}
